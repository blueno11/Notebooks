{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/thang/Downloads/CuoikyWeb/Notebook-main/frontend/components/header.tsx"],"sourcesContent":["<nav className=\" flex justify-between w-[70%] items-center\"></nav>\nimport Image from 'next/image';\nimport { usePathname } from 'next/navigation';\nimport { useRouter } from 'next/navigation';\nimport { useEffect, useState } from 'react';\n\nexport default function Header() {\n  const pathname = usePathname();\n  const router = useRouter();\n  const [accountName, setAccountName] = useState<string>('');\n\n  useEffect(() => {\n    async function fetchAccount() {\n      try {\n        const res = await fetch('http://localhost:4000/api/account', { credentials: 'include' });\n        const data = await res.json();\n        if (data.status === 'success') setAccountName(data.name || data.email || '');\n      } catch (e) { setAccountName(''); }\n    }\n    fetchAccount();\n  }, []);\n\n  return (\n    <header className=\"bg-zinc-900 bg-slate-800/90 backdrop-blur px-6 py-2 flex items-center justify-between\">\n      {/* Logo */}\n      <div className=\"flex items-center space-x-2\">\n        <Image src=\"/logo1.png\" alt=\"Mochi Logo\" width={90} height={20} />\n\n      </div>\n\n      {/* Navigation */}\n      <nav className=\" flex justify-between w-[70%]\">\n        <NavItem src=\"/news\" icon=\"/icons/news.svg\" label=\"Tin tức\" isActive={pathname === '/news'} />\n        <NavItem src=\"/#\" icon=\"/icons/study.svg\" label=\"Luyện Tập\" isActive={pathname === '/study'} />\n        <NavItem src=\"/notebook\" icon=\"/icons/notebook.svg\" label=\"Sổ tay\" isActive={pathname === '/notebook'}  />\n        <NavItem src=\"/#\" icon=\"/icons/user.svg\" label=\"Tài khoản\" isActive={pathname === '/account'}  />\n      </nav>\n\n      {/* User Avatar */}\n              <span className=\"text-yellow-400 font-extrabold text-xl\">Xin Chào {accountName}</span>\n      <div className=\"w-10 h-10 rounded-full border-2 border-green-500 overflow-hidden\"  onClick={() => {fetch('http://localhost:4000/api/auth/logout',{\n        credentials:'include',\n        method: 'POST'\n      })\n      router.refresh();\n    }\n      }>\n        <Image src=\"/avatar/avatar1.jpg\" alt=\"User Avatar\" width={40} height={40} />\n      </div>\n    </header>\n  );\n}\n\n// Component cho mỗi item trong nav\nfunction NavItem({ icon, label, isActive, src }: { icon: string; label: string; isActive?: boolean; src: string }) {\n  return (\n    <a \n      href={src} \n      className={`w-[20%] flex flex-col items-center text-sm p-2 rounded-lg transition-all duration-300 ${\n        isActive \n          ? 'text-white font-bold bg-indigo-800 border-indigo-500' \n          : 'text-2xl font-semibold text-white hover:bg-indigo-700'\n      }`}\n    >\n      <Image src={icon} alt={label} width={24} height={24} />\n      <span>{label}</span>\n    </a>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AAEA;;AAJA,8OAAC;IAAI,WAAU;;;;;;;;;;AAMA,SAAS;IACtB,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU;IAEvD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,eAAe;YACb,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,qCAAqC;oBAAE,aAAa;gBAAU;gBACtF,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,IAAI,KAAK,MAAM,KAAK,WAAW,eAAe,KAAK,IAAI,IAAI,KAAK,KAAK,IAAI;YAC3E,EAAE,OAAO,GAAG;gBAAE,eAAe;YAAK;QACpC;QACA;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAO,WAAU;;0BAEhB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,6HAAA,CAAA,UAAK;oBAAC,KAAI;oBAAa,KAAI;oBAAa,OAAO;oBAAI,QAAQ;;;;;;;;;;;0BAK9D,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAQ,KAAI;wBAAQ,MAAK;wBAAkB,OAAM;wBAAU,UAAU,aAAa;;;;;;kCACnF,8OAAC;wBAAQ,KAAI;wBAAK,MAAK;wBAAmB,OAAM;wBAAY,UAAU,aAAa;;;;;;kCACnF,8OAAC;wBAAQ,KAAI;wBAAY,MAAK;wBAAsB,OAAM;wBAAS,UAAU,aAAa;;;;;;kCAC1F,8OAAC;wBAAQ,KAAI;wBAAK,MAAK;wBAAkB,OAAM;wBAAY,UAAU,aAAa;;;;;;;;;;;;0BAI5E,8OAAC;gBAAK,WAAU;;oBAAyC;oBAAU;;;;;;;0BAC3E,8OAAC;gBAAI,WAAU;gBAAoE,SAAS;oBAAO,MAAM,yCAAwC;wBAC/I,aAAY;wBACZ,QAAQ;oBACV;oBACA,OAAO,OAAO;gBAChB;0BAEI,cAAA,8OAAC,6HAAA,CAAA,UAAK;oBAAC,KAAI;oBAAsB,KAAI;oBAAc,OAAO;oBAAI,QAAQ;;;;;;;;;;;;;;;;;AAI9E;AAEA,mCAAmC;AACnC,SAAS,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,EAAoE;IAC/G,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,CAAC,sFAAsF,EAChG,WACI,yDACA,yDACJ;;0BAEF,8OAAC,6HAAA,CAAA,UAAK;gBAAC,KAAK;gBAAM,KAAK;gBAAO,OAAO;gBAAI,QAAQ;;;;;;0BACjD,8OAAC;0BAAM;;;;;;;;;;;;AAGb","debugId":null}},
    {"offset": {"line": 215, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/thang/Downloads/CuoikyWeb/Notebook-main/frontend/components/footer.tsx"],"sourcesContent":["// components/Footer.tsx\nexport default function Footer() {\n    return (\n      <footer className=\"bg-gray-100 text-center py-4 text-sm text-gray-500\">\n        © {new Date().getFullYear()} eNews. All rights reserved.\n      </footer>\n    );\n  }\n  "],"names":[],"mappings":"AAAA,wBAAwB;;;;;;AACT,SAAS;IACpB,qBACE,8OAAC;QAAO,WAAU;;YAAqD;YAClE,IAAI,OAAO,WAAW;YAAG;;;;;;;AAGlC","debugId":null}},
    {"offset": {"line": 241, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/thang/Downloads/CuoikyWeb/Notebook-main/frontend/src/app/notebook/page.tsx"],"sourcesContent":["'use client';\r\nimport Header from '../../../components/header';\r\nimport Footer from '../../../components/footer';\r\nimport { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nconst reviewImage = \"https://img.freepik.com/premium-vector/cute-cat-reading-book-cartoon-mascot-logo-design-flat-design-style_203040-92.jpg\";\r\nconst sleepImage = \"https://img.freepik.com/free-vector/cute-shiba-inu-dog-sleeping-flower-cartoon-vector-icon-illustration-animal-holiday-isolated-flat_138676-10004.jpg?semt=ais_hybrid&w=740\";\r\n\r\nexport default function NotebookPage() {\r\n  const router = useRouter();\r\n  const [user, setUser] = useState<any>({});\r\n  const [search, setSearch] = useState('');\r\n  const [searchResults, setSearchResults] = useState<any[]>([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [sleepWords, setSleepWords] = useState<any[]>([]);\r\n  const [totalWords, setTotalWords] = useState<number>(0);\r\n\r\n  useEffect(() => {\r\n    async function fetchUserAndWords() {\r\n      try {\r\n        const resUser = await fetch('http://localhost:4000/api/me', { credentials: 'include' });\r\n        const userData = await resUser.json();\r\n        setUser(userData);\r\n        if (!userData.loggedIn) {\r\n          router.push('/');\r\n          return;\r\n        }\r\n        const userId = userData.user.userInfo.userId;\r\n        const resTotal = await fetch(`http://localhost:4000/vocabulary/getReviewWords?userId=${userId}`);\r\n        const total = await resTotal.json();\r\n        setTotalWords(total.total || 0);\r\n        const resSleep = await fetch(`http://localhost:4000/vocabulary/getSleepWords?userId=${userId}`);\r\n        setSleepWords(await resSleep.json());\r\n      } catch (error) {\r\n        console.log(error);\r\n        setError('Không thể tải dữ liệu người dùng.');\r\n      }\r\n    }\r\n    fetchUserAndWords();\r\n  }, [router]);\r\n\r\n  const handleSearch = async () => {\r\n    if (!user?.user?.userInfo?.userId || !search) {\r\n      setError('Vui lòng đăng nhập và nhập từ để tìm kiếm.');\r\n      return;\r\n    }\r\n    setIsLoading(true);\r\n    setError(null);\r\n    try {\r\n      const res = await fetch(\r\n        `http://localhost:4000/vocabulary/getWords?userId=${user.user.userInfo.userId}&search=${encodeURIComponent(search)}`,\r\n        { credentials: 'include' }\r\n      );\r\n      if (!res.ok) {\r\n        throw new Error('Không thể lấy dữ liệu từ điển.');\r\n      }\r\n      const results = await res.json();\r\n      setSearchResults(results || []);\r\n    } catch (error) {\r\n      setError('Có lỗi xảy ra khi tìm kiếm. Vui lòng thử lại.');\r\n      setSearchResults([]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleReviewClick = () => {\r\n    router.push('/notebook/notebook-active');\r\n  };\r\n\r\n  const handleSleepClick = () => {\r\n    router.push('/notebook/notebook-active');\r\n  };\r\n\r\n  if (!user?.user?.userInfo?.userId) {\r\n    return <div>Đang tải thông tin người dùng...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white\">\r\n      <Header />\r\n      <h1 className=\"text-center font-bold text-2xl md:text-3xl pt-8 pb-4 tracking-wide\">SỔ TAY MOCHI CỦA BẠN</h1>\r\n      <div className=\"flex flex-col items-center w-full mt-2\">\r\n        <div className=\"flex bg-gray-100 rounded-full px-4 py-2 w-full max-w-xl shadow-sm items-center\">\r\n          <input\r\n            className=\"flex-1 bg-transparent outline-none px-2 py-1 text-gray-700 placeholder:text-gray-400 text-base\"\r\n            placeholder=\"Gõ vào đây từ bạn muốn tìm\"\r\n            value={search}\r\n            onChange={e => setSearch(e.target.value)}\r\n            onKeyDown={e => { if (e.key === 'Enter') handleSearch(); }}\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            className=\"bg-green-500 hover:bg-green-600 font-semibold text-white rounded-full px-5 py-2 ml-3 transition-all shadow\"\r\n            onClick={handleSearch}\r\n            disabled={isLoading}\r\n          >\r\n            {isLoading ? 'Đang tìm...' : 'Tìm kiếm'}\r\n          </button>\r\n        </div>\r\n        <div className=\"w-full max-w-xl mt-4 px-4\">\r\n          {error && <div className=\"text-red-500 mb-4\">{error}</div>}\r\n          {isLoading && <div className=\"text-gray-600\">Đang tải dữ liệu...</div>}\r\n          {!isLoading && searchResults.length > 0 ? (\r\n            searchResults.map((word: any, idx: number) => (\r\n              <div key={idx} className=\"mb-6 flex items-start\">\r\n                <div className=\"mr-3\">\r\n                  <div className=\"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center\">\r\n                    <svg className=\"w-5 h-5 text-green-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                      <path\r\n                        fillRule=\"evenodd\"\r\n                        d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\"\r\n                        clipRule=\"evenodd\"\r\n                      ></path>\r\n                    </svg>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <div className=\"flex items-center\">\r\n                    <h3 className=\"text-xl font-medium text-gray-800\">{word.word}</h3>\r\n                    <div className=\"text-gray-500 ml-3\">{word.phonetic}</div>\r\n                  </div>\r\n                  <div className=\"mt-1 text-gray-600\">({word.partOfSpeech})</div>\r\n                  <div className=\"mt-2 text-gray-800\">{word.meaning}</div>\r\n                </div>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            !isLoading && search && <div className=\"text-gray-600\">Không tìm thấy từ \"{search}\" trong từ điển của bạn.</div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex flex-col md:flex-row justify-center items-center gap-6 mt-16\">\r\n        <div\r\n          className=\"flex-1 max-w-xs border-2 border-yellow-300 bg-yellow-50 rounded-xl p-8 flex flex-col items-center shadow hover:shadow-lg transition relative min-w-[320px] min-h-[320px]\"\r\n          onClick={handleReviewClick}\r\n        >\r\n          <img src={reviewImage} alt=\"Ôn tập\" className=\"h-36 w-auto mb-4 select-none pointer-events-none\" />\r\n          <div className=\"text-3xl font-bold font-sans mb-2 text-black\">{totalWords}</div>\r\n          <div className=\"text-lg text-gray-600\">Ôn tập</div>\r\n        </div>\r\n        <div\r\n          className=\"flex-1 max-w-xs border-2 border-blue-200 bg-blue-50 rounded-xl p-8 flex flex-col items-center shadow hover:shadow-lg transition relative min-w-[320px] min-h-[320px]\"\r\n          onClick={handleSleepClick}\r\n        >\r\n          <img src={sleepImage} alt=\"Ngủ đông\" className=\"h-36 w-auto mb-4 select-none pointer-events-none\" />\r\n          <div className=\"text-3xl font-bold font-sans mb-2 text-black\">{sleepWords.length}</div>\r\n          <div className=\"text-lg text-gray-600\">Từ ngủ đông</div>\r\n        </div>\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AAJA;;;;;;AAMA,MAAM,cAAc;AACpB,MAAM,aAAa;AAEJ,SAAS;IACtB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAO,CAAC;IACvC,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAS,EAAE;IAC5D,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAS,EAAE;IACtD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU;IAErD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,eAAe;YACb,IAAI;gBACF,MAAM,UAAU,MAAM,MAAM,gCAAgC;oBAAE,aAAa;gBAAU;gBACrF,MAAM,WAAW,MAAM,QAAQ,IAAI;gBACnC,QAAQ;gBACR,IAAI,CAAC,SAAS,QAAQ,EAAE;oBACtB,OAAO,IAAI,CAAC;oBACZ;gBACF;gBACA,MAAM,SAAS,SAAS,IAAI,CAAC,QAAQ,CAAC,MAAM;gBAC5C,MAAM,WAAW,MAAM,MAAM,CAAC,uDAAuD,EAAE,QAAQ;gBAC/F,MAAM,QAAQ,MAAM,SAAS,IAAI;gBACjC,cAAc,MAAM,KAAK,IAAI;gBAC7B,MAAM,WAAW,MAAM,MAAM,CAAC,sDAAsD,EAAE,QAAQ;gBAC9F,cAAc,MAAM,SAAS,IAAI;YACnC,EAAE,OAAO,OAAO;gBACd,QAAQ,GAAG,CAAC;gBACZ,SAAS;YACX;QACF;QACA;IACF,GAAG;QAAC;KAAO;IAEX,MAAM,eAAe;QACnB,IAAI,CAAC,MAAM,MAAM,UAAU,UAAU,CAAC,QAAQ;YAC5C,SAAS;YACT;QACF;QACA,aAAa;QACb,SAAS;QACT,IAAI;YACF,MAAM,MAAM,MAAM,MAChB,CAAC,iDAAiD,EAAE,KAAK,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,mBAAmB,SAAS,EACpH;gBAAE,aAAa;YAAU;YAE3B,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,MAAM,IAAI,MAAM;YAClB;YACA,MAAM,UAAU,MAAM,IAAI,IAAI;YAC9B,iBAAiB,WAAW,EAAE;QAChC,EAAE,OAAO,OAAO;YACd,SAAS;YACT,iBAAiB,EAAE;QACrB,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,oBAAoB;QACxB,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,mBAAmB;QACvB,OAAO,IAAI,CAAC;IACd;IAEA,IAAI,CAAC,MAAM,MAAM,UAAU,QAAQ;QACjC,qBAAO,8OAAC;sBAAI;;;;;;IACd;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,qHAAA,CAAA,UAAM;;;;;0BACP,8OAAC;gBAAG,WAAU;0BAAqE;;;;;;0BACnF,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,WAAU;gCACV,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAA,IAAK,UAAU,EAAE,MAAM,CAAC,KAAK;gCACvC,WAAW,CAAA;oCAAO,IAAI,EAAE,GAAG,KAAK,SAAS;gCAAgB;;;;;;0CAE3D,8OAAC;gCACC,MAAK;gCACL,WAAU;gCACV,SAAS;gCACT,UAAU;0CAET,YAAY,gBAAgB;;;;;;;;;;;;kCAGjC,8OAAC;wBAAI,WAAU;;4BACZ,uBAAS,8OAAC;gCAAI,WAAU;0CAAqB;;;;;;4BAC7C,2BAAa,8OAAC;gCAAI,WAAU;0CAAgB;;;;;;4BAC5C,CAAC,aAAa,cAAc,MAAM,GAAG,IACpC,cAAc,GAAG,CAAC,CAAC,MAAW,oBAC5B,8OAAC;oCAAc,WAAU;;sDACvB,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC;oDAAI,WAAU;oDAAyB,MAAK;oDAAe,SAAQ;8DAClE,cAAA,8OAAC;wDACC,UAAS;wDACT,GAAE;wDACF,UAAS;;;;;;;;;;;;;;;;;;;;;sDAKjB,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAG,WAAU;sEAAqC,KAAK,IAAI;;;;;;sEAC5D,8OAAC;4DAAI,WAAU;sEAAsB,KAAK,QAAQ;;;;;;;;;;;;8DAEpD,8OAAC;oDAAI,WAAU;;wDAAqB;wDAAE,KAAK,YAAY;wDAAC;;;;;;;8DACxD,8OAAC;oDAAI,WAAU;8DAAsB,KAAK,OAAO;;;;;;;;;;;;;mCAlB3C;;;;4CAuBZ,CAAC,aAAa,wBAAU,8OAAC;gCAAI,WAAU;;oCAAgB;oCAAoB;oCAAO;;;;;;;;;;;;;;;;;;;0BAKxF,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,WAAU;wBACV,SAAS;;0CAET,8OAAC;gCAAI,KAAK;gCAAa,KAAI;gCAAS,WAAU;;;;;;0CAC9C,8OAAC;gCAAI,WAAU;0CAAgD;;;;;;0CAC/D,8OAAC;gCAAI,WAAU;0CAAwB;;;;;;;;;;;;kCAEzC,8OAAC;wBACC,WAAU;wBACV,SAAS;;0CAET,8OAAC;gCAAI,KAAK;gCAAY,KAAI;gCAAW,WAAU;;;;;;0CAC/C,8OAAC;gCAAI,WAAU;0CAAgD,WAAW,MAAM;;;;;;0CAChF,8OAAC;gCAAI,WAAU;0CAAwB;;;;;;;;;;;;;;;;;;0BAG3C,8OAAC,qHAAA,CAAA,UAAM;;;;;;;;;;;AAGb","debugId":null}}]
}